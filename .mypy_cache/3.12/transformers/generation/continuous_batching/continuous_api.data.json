{".class":"MypyFile","_fullname":"transformers.generation.continuous_batching.continuous_api","future_import_flags":[],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","ContinuousBatchProcessor":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","name":"ContinuousBatchProcessor","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0,1,1,1],"arg_names":["self","cache","config","generation_config","input_queue","output_queue","stop_event","model_device","model_dtype","scheduler","streaming","manual_eviction","slice_inputs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0,1,1,1],"arg_names":["self","cache","config","generation_config","input_queue","output_queue","stop_event","model_device","model_dtype","scheduler","streaming","manual_eviction","slice_inputs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","transformers.generation.continuous_batching.cache.PagedAttentionCache","transformers.configuration_utils.PretrainedConfig","transformers.generation.configuration_utils.GenerationConfig",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"},"threading.Event","torch._C.device","torch._C.dtype","transformers.generation.continuous_batching.scheduler.Scheduler","builtins.bool","builtins.bool","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__repr__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.__repr__","name":"__repr__","type":null}},"_build_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0],"arg_names":["self","input_ids","position_ids","read_index","write_index","cumulative_seqlens_q","cumulative_seqlens_k","logits_indices"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._build_tensors","name":"_build_tensors","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._build_tensors","name":"_build_tensors","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_get_new_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._get_new_requests","name":"_get_new_requests","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._get_new_requests","name":"_get_new_requests","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_handle_request_error":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","error","state"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._handle_request_error","name":"_handle_request_error","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","error","state"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"transformers.generation.continuous_batching.classes.RequestState"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_handle_request_error of ContinuousBatchProcessor","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._handle_request_error","name":"_handle_request_error","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_maybe_send_output":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","state","token"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._maybe_send_output","name":"_maybe_send_output","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","state","token"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","transformers.generation.continuous_batching.classes.RequestState","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_maybe_send_output of ContinuousBatchProcessor","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._maybe_send_output","name":"_maybe_send_output","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_sync":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._sync","name":"_sync","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._sync","name":"_sync","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"actual_tokens":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.actual_tokens","name":"actual_tokens","type":"builtins.int"}},"attention_mask":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.attention_mask","name":"attention_mask","type":"torch._tensor.Tensor"}},"cache":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cache","name":"cache","type":"transformers.generation.continuous_batching.cache.PagedAttentionCache"}},"cache_used":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cache_used","name":"cache_used","type":"builtins.int"}},"config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.config","name":"config","type":"transformers.configuration_utils.PretrainedConfig"}},"cumulative_seqlens_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cumulative_seqlens_k","name":"cumulative_seqlens_k","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"cumulative_seqlens_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cumulative_seqlens_q","name":"cumulative_seqlens_q","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"decode_stream":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.decode_stream","name":"decode_stream","type":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.DecodeStream","source_any":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.DecodeStream","source_any":null,"type_of_any":3},"type_of_any":7}}},"fail_all_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","error"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.fail_all_requests","name":"fail_all_requests","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.fail_all_requests","name":"fail_all_requests","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"generation_config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.generation_config","name":"generation_config","type":"transformers.generation.configuration_utils.GenerationConfig"}},"get_model_kwargs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.get_model_kwargs","name":"get_model_kwargs","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_model_kwargs of ContinuousBatchProcessor","ret_type":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"handle_batch_error":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","error"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.handle_batch_error","name":"handle_batch_error","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.handle_batch_error","name":"handle_batch_error","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"has_pending_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.has_pending_requests","name":"has_pending_requests","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"has_pending_requests of ContinuousBatchProcessor","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.has_pending_requests","name":"has_pending_requests","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"input_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.input_ids","name":"input_ids","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"input_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.input_queue","name":"input_queue","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"logits_indices":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.logits_indices","name":"logits_indices","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"manual_eviction":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.manual_eviction","name":"manual_eviction","type":"builtins.bool"}},"max_batch_tokens":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.max_batch_tokens","name":"max_batch_tokens","type":"builtins.int"}},"max_seqlen_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.max_seqlen_k","name":"max_seqlen_k","type":"builtins.int"}},"max_seqlen_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.max_seqlen_q","name":"max_seqlen_q","type":"builtins.int"}},"metrics":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.metrics","name":"metrics","type":"transformers.utils.metrics.ContinuousBatchProcessorMetrics"}},"model_device":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.model_device","name":"model_device","type":"torch._C.device"}},"model_dtype":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.model_dtype","name":"model_dtype","type":"torch._C.dtype"}},"output_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.output_ids","name":"output_ids","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"output_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.output_queue","name":"output_queue","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"position_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.position_ids","name":"position_ids","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"prepare_next_batch":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.prepare_next_batch","name":"prepare_next_batch","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.prepare_next_batch","name":"prepare_next_batch","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"read_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.read_index","name":"read_index","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"requests_in_batch":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.requests_in_batch","name":"requests_in_batch","type":{".class":"Instance","args":["transformers.generation.continuous_batching.classes.RequestState"],"extra_attrs":null,"type_ref":"builtins.list"}}},"reset_static_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.reset_static_tensors","name":"reset_static_tensors","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.reset_static_tensors","name":"reset_static_tensors","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"return_attention_mask":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.return_attention_mask","name":"return_attention_mask","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"return_attention_mask of ContinuousBatchProcessor","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"scheduler":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.scheduler","name":"scheduler","type":"transformers.generation.continuous_batching.scheduler.Scheduler"}},"setup_static_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.setup_static_tensors","name":"setup_static_tensors","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.setup_static_tensors","name":"setup_static_tensors","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"slice_inputs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.slice_inputs","name":"slice_inputs","type":"builtins.bool"}},"stop_event":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.stop_event","name":"stop_event","type":"threading.Event"}},"streaming":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.streaming","name":"streaming","type":"builtins.bool"}},"tensor_metadata":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.tensor_metadata","name":"tensor_metadata","type":{".class":"Instance","args":["builtins.str","builtins.object"],"extra_attrs":null,"type_ref":"builtins.dict"}}},"tokenizer":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.tokenizer","name":"tokenizer","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}},"update_batch":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.update_batch","name":"update_batch","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.update_batch","name":"update_batch","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"write_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.write_index","name":"write_index","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"ContinuousBatchProcessorMetrics":{".class":"SymbolTableNode","cross_ref":"transformers.utils.metrics.ContinuousBatchProcessorMetrics","kind":"Gdef","module_hidden":true,"module_public":false},"ContinuousBatchingManager":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","name":"ContinuousBatchingManager","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1,1,1,1],"arg_names":["self","model","generation_config","manual_eviction","max_queue_size","streaming","slice_inputs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,1,1,1,1],"arg_names":["self","model","generation_config","manual_eviction","max_queue_size","streaming","slice_inputs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"transformers.generation.configuration_utils.GenerationConfig","builtins.bool",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"builtins.bool","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__iter__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.__iter__","name":"__iter__","type":null}},"_generation_step":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","batch_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._generation_step","name":"_generation_step","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","batch_processor"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_generation_step of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._generation_step","name":"_generation_step","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_generation_thread":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._generation_thread","name":"_generation_thread","type":{".class":"NoneType"}}},"_graph_replay":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._graph_replay","name":"_graph_replay","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._graph_replay","name":"_graph_replay","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_handle_critical_error":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","error","batch_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._handle_critical_error","name":"_handle_critical_error","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","error","batch_processor"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},{".class":"UnionType","items":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_handle_critical_error of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._handle_critical_error","name":"_handle_critical_error","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_inner_generation_loop":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","batch_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._inner_generation_loop","name":"_inner_generation_loop","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","batch_processor"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_inner_generation_loop of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._inner_generation_loop","name":"_inner_generation_loop","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_model_forward":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","batch_data"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._model_forward","name":"_model_forward","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._model_forward","name":"_model_forward","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_process_logit":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","batch_data","logits"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._process_logit","name":"_process_logit","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._process_logit","name":"_process_logit","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_request_counter":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._request_counter","name":"_request_counter","type":"builtins.int"}},"_request_lock":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._request_lock","name":"_request_lock","type":"_thread.LockType"}},"_result_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._result_queue","name":"_result_queue","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"_run_generation_loop":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._run_generation_loop","name":"_run_generation_loop","type":null}},"_sample":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","batch_processor","probs"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._sample","name":"_sample","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","batch_processor","probs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"_sample of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._sample","name":"_sample","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"add_request":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1],"arg_names":["self","input_ids","request_id","max_new_tokens"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.add_request","name":"add_request","type":{".class":"CallableType","arg_kinds":[0,0,1,1],"arg_names":["self","input_ids","request_id","max_new_tokens"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"add_request of ContinuousBatchingManager","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"add_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,4],"arg_names":["self","inputs","kwargs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.add_requests","name":"add_requests","type":{".class":"CallableType","arg_kinds":[0,0,4],"arg_names":["self","inputs","kwargs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"add_requests of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"batch_processor":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.batch_processor","name":"batch_processor","type":{".class":"UnionType","items":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"current_batch":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.current_batch","name":"current_batch","type":"builtins.int"}},"decode_stream":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.decode_stream","name":"decode_stream","type":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.DecodeStream","source_any":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.DecodeStream","source_any":null,"type_of_any":3},"type_of_any":7}}},"do_sample":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.do_sample","name":"do_sample","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"evict_request_from_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","request_id"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.evict_request_from_cache","name":"evict_request_from_cache","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","request_id"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.str"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"evict_request_from_cache of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.evict_request_from_cache","name":"evict_request_from_cache","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"generation_config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.generation_config","name":"generation_config","type":"transformers.generation.configuration_utils.GenerationConfig"}},"get_result":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1],"arg_names":["self","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.get_result","name":"get_result","type":{".class":"CallableType","arg_kinds":[0,1],"arg_names":["self","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"get_result of ContinuousBatchingManager","ret_type":{".class":"UnionType","items":["transformers.generation.continuous_batching.classes.GenerationOutput",{".class":"NoneType"}],"uses_pep604_syntax":false},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"graph":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.graph","name":"graph","type":"torch.cuda.graphs.CUDAGraph"}},"input_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.input_queue","name":"input_queue","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"is_running":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.is_running","name":"is_running","type":null}},"join":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1],"arg_names":["self","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.join","name":"join","type":{".class":"CallableType","arg_kinds":[0,1],"arg_names":["self","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"join of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"log_prob_generation":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.log_prob_generation","name":"log_prob_generation","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"logit_processor":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.logit_processor","name":"logit_processor","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}},"manual_eviction":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.manual_eviction","name":"manual_eviction","type":"builtins.bool"}},"model":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.model","name":"model","type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}},"output_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.output_queue","name":"output_queue","type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"profile":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.profile","name":"profile","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"slice_inputs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.slice_inputs","name":"slice_inputs","type":"builtins.bool"}},"start":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.start","name":"start","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.start","name":"start","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"stop":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1],"arg_names":["self","block","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.stop","name":"stop","type":{".class":"CallableType","arg_kinds":[0,1,1],"arg_names":["self","block","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.bool",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":false}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"stop of ContinuousBatchingManager","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"stop_event":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.stop_event","name":"stop_event","type":"threading.Event"}},"streaming":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.streaming","name":"streaming","type":"builtins.bool"}},"use_cuda_graph":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.use_cuda_graph","name":"use_cuda_graph","type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"warmup":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","batch_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.warmup","name":"warmup","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.warmup","name":"warmup","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"ContinuousMixin":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin","name":"ContinuousMixin","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin","builtins.object"],"names":{".class":"SymbolTable","generate_batch":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1,1,4],"arg_names":["self","inputs","generation_config","progress_bar","slice_inputs","kwargs"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.generate_batch","name":"generate_batch","type":{".class":"CallableType","arg_kinds":[0,0,1,1,1,4],"arg_names":["self","inputs","generation_config","progress_bar","slice_inputs","kwargs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin",{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["transformers.generation.configuration_utils.GenerationConfig",{".class":"NoneType"}],"uses_pep604_syntax":false},"builtins.bool","builtins.bool",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"generate_batch of ContinuousMixin","ret_type":{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.generate_batch","name":"generate_batch","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"init_continuous_batching":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","streaming","slice_inputs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.init_continuous_batching","name":"init_continuous_batching","type":{".class":"CallableType","arg_kinds":[0,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","streaming","slice_inputs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin",{".class":"UnionType","items":["transformers.generation.configuration_utils.GenerationConfig",{".class":"NoneType"}],"uses_pep604_syntax":false},"builtins.bool","builtins.int","builtins.bool","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"init_continuous_batching of ContinuousMixin","ret_type":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"DecodeStream":{".class":"SymbolTableNode","kind":"Gdef","module_hidden":true,"module_public":false,"node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.DecodeStream","name":"DecodeStream","type":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.DecodeStream","source_any":null,"type_of_any":3}}},"FIFOScheduler":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.scheduler.FIFOScheduler","kind":"Gdef","module_hidden":true,"module_public":false},"GenerationConfig":{".class":"SymbolTableNode","cross_ref":"transformers.generation.configuration_utils.GenerationConfig","kind":"Gdef","module_hidden":true,"module_public":false},"GenerationOutput":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.classes.GenerationOutput","kind":"Gdef","module_hidden":true,"module_public":false},"Optional":{".class":"SymbolTableNode","cross_ref":"typing.Optional","kind":"Gdef","module_hidden":true,"module_public":false},"PagedAttentionArgs":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","name":"PagedAttentionArgs","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":39,"name":"input_ids","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":40,"name":"attention_mask","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":41,"name":"position_ids","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":42,"name":"cumulative_seqlens_q","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":43,"name":"cumulative_seqlens_k","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":44,"name":"max_seqlen_q","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":45,"name":"max_seqlen_k","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":46,"name":"write_index","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":47,"name":"read_index","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":48,"name":"logits_indices","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":49,"name":"block_tables","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":50,"name":"cache","type":"transformers.generation.continuous_batching.cache.PagedAttentionCache"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":51,"name":"use_cache","type":"builtins.bool"}],"frozen":false},"dataclass_tag":{}},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"dataclasses.Field"}],"extra_attrs":null,"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,0,0,1],"arg_names":["self","input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","block_tables","cache","use_cache"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,0,0,1],"arg_names":["self","input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","block_tables","cache","use_cache"],"arg_types":["transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor",{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"},"transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__init__ of PagedAttentionArgs","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"input_ids"},{".class":"LiteralType","fallback":"builtins.str","value":"attention_mask"},{".class":"LiteralType","fallback":"builtins.str","value":"position_ids"},{".class":"LiteralType","fallback":"builtins.str","value":"cumulative_seqlens_q"},{".class":"LiteralType","fallback":"builtins.str","value":"cumulative_seqlens_k"},{".class":"LiteralType","fallback":"builtins.str","value":"max_seqlen_q"},{".class":"LiteralType","fallback":"builtins.str","value":"max_seqlen_k"},{".class":"LiteralType","fallback":"builtins.str","value":"write_index"},{".class":"LiteralType","fallback":"builtins.str","value":"read_index"},{".class":"LiteralType","fallback":"builtins.str","value":"logits_indices"},{".class":"LiteralType","fallback":"builtins.str","value":"block_tables"},{".class":"LiteralType","fallback":"builtins.str","value":"cache"},{".class":"LiteralType","fallback":"builtins.str","value":"use_cache"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__mypy-replace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[5,5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","block_tables","cache","use_cache"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","block_tables","cache","use_cache"],"arg_types":["torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor",{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"},"transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of PagedAttentionArgs","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_staticmethod","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__mypy-replace","name":"__mypy-replace","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","block_tables","cache","use_cache"],"arg_types":["torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int","torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor",{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"},"transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_ellipsis_args":false,"name":"__mypy-replace of PagedAttentionArgs","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"plugin_generated":true},"attention_mask":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.attention_mask","name":"attention_mask","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false}}},"block_tables":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.block_tables","name":"block_tables","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"cache":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.cache","name":"cache","type":"transformers.generation.continuous_batching.cache.PagedAttentionCache"}},"cumulative_seqlens_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.cumulative_seqlens_k","name":"cumulative_seqlens_k","type":"torch._tensor.Tensor"}},"cumulative_seqlens_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.cumulative_seqlens_q","name":"cumulative_seqlens_q","type":"torch._tensor.Tensor"}},"input_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.input_ids","name":"input_ids","type":"torch._tensor.Tensor"}},"logits_indices":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.logits_indices","name":"logits_indices","type":"torch._tensor.Tensor"}},"max_seqlen_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.max_seqlen_k","name":"max_seqlen_k","type":"builtins.int"}},"max_seqlen_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.max_seqlen_q","name":"max_seqlen_q","type":"builtins.int"}},"position_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.position_ids","name":"position_ids","type":"torch._tensor.Tensor"}},"read_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.read_index","name":"read_index","type":"torch._tensor.Tensor"}},"use_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.use_cache","name":"use_cache","type":"builtins.bool"}},"write_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.write_index","name":"write_index","type":"torch._tensor.Tensor"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"PagedAttentionCache":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.cache.PagedAttentionCache","kind":"Gdef","module_hidden":true,"module_public":false},"PreTrainedTokenizerFast":{".class":"SymbolTableNode","cross_ref":"transformers.tokenization_utils_fast.PreTrainedTokenizerFast","kind":"Gdef","module_hidden":true,"module_public":false},"PretrainedConfig":{".class":"SymbolTableNode","cross_ref":"transformers.configuration_utils.PretrainedConfig","kind":"Gdef","module_hidden":true,"module_public":false},"RequestState":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.classes.RequestState","kind":"Gdef","module_hidden":true,"module_public":false},"RequestStatus":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.classes.RequestStatus","kind":"Gdef","module_hidden":true,"module_public":false},"SCHEDULER_MAPPING":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.scheduler.SCHEDULER_MAPPING","kind":"Gdef","module_hidden":true,"module_public":false},"Scheduler":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.scheduler.Scheduler","kind":"Gdef","module_hidden":true,"module_public":false},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__annotations__","name":"__annotations__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__doc__","name":"__doc__","type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__file__","name":"__file__","type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__name__","name":"__name__","type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__package__","name":"__package__","type":"builtins.str"}},"__spec__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__spec__","name":"__spec__","type":"_frozen_importlib.ModuleSpec"}},"attach_tracer":{".class":"SymbolTableNode","cross_ref":"transformers.utils.metrics.attach_tracer","kind":"Gdef","module_hidden":true,"module_public":false},"dataclass":{".class":"SymbolTableNode","cross_ref":"dataclasses.dataclass","kind":"Gdef","module_hidden":true,"module_public":false},"get_device_and_memory_breakdown":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.classes.get_device_and_memory_breakdown","kind":"Gdef","module_hidden":true,"module_public":false},"logger":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.classes.logger","kind":"Gdef","module_hidden":true,"module_public":false},"logging":{".class":"SymbolTableNode","cross_ref":"logging","kind":"Gdef","module_hidden":true,"module_public":false},"nn":{".class":"SymbolTableNode","cross_ref":"torch.nn","kind":"Gdef","module_hidden":true,"module_public":false},"partial":{".class":"SymbolTableNode","cross_ref":"functools.partial","kind":"Gdef","module_hidden":true,"module_public":false},"queue":{".class":"SymbolTableNode","cross_ref":"queue","kind":"Gdef","module_hidden":true,"module_public":false},"threading":{".class":"SymbolTableNode","cross_ref":"threading","kind":"Gdef","module_hidden":true,"module_public":false},"torch":{".class":"SymbolTableNode","cross_ref":"torch","kind":"Gdef","module_hidden":true,"module_public":false},"tqdm":{".class":"SymbolTableNode","kind":"Gdef","module_hidden":true,"module_public":false,"node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.tqdm","name":"tqdm","type":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.tqdm","source_any":null,"type_of_any":3}}},"traced":{".class":"SymbolTableNode","cross_ref":"transformers.utils.metrics.traced","kind":"Gdef","module_hidden":true,"module_public":false}},"path":"/home/paul/Medical_KG/.venv/lib/python3.12/site-packages/transformers/generation/continuous_batching/continuous_api.py"}